import T from"./InputText.2ab10032.js";import{a as j,v as b,f as D,a0 as N,b as R,o as r,h as c,i as t,m as x,u as d,j as n,w as o,s as I,G as q,a1 as B,r as _,L as F,t as a,p as O,k as U,l as E}from"./entry.61f443fa.js";import Q from"./AddChannel.d6ea4339.js";import"./index.esm.bd0dd375.js";import"./request.b3446890.js";import"./useToastMessage.af91aa57.js";const w=m=>(O("data-v-be10bc1d"),m=m(),U(),m),G={class:"grid-nogutter grid col-12 p-3"},K=w(()=>t("div",{class:"flex justify-content-start align-items-center border-bottom-2 border-light-grey pb-2"},[t("span",{class:"material-icons-outlined text-grey text-4xl"},"subject"),t("span",{class:"text-grey font-bold text-2xl font-bold ml-2"},"Channels")],-1)),M=[K],W={class:"col-12 md:12"},J={class:"flex align-items-end mb-2 mt-2 justify-content-between border-bottom-1 border-light-grey pt-2 pb-3"},X={class:"flex"},Y={class:"flex align-items-end mb-1 field-checkbox ml-2"},Z={class:"flex align-items-end"},$={class:"col-12 md:12"},ee={key:0,class:"min-h-0 mt-3"},te=w(()=>t("div",{class:"flex justify-content-center align-items-center bg-white",style:{"min-height":"42vh"}},[t("span",{class:"font-italic font-medium text-grey"},"No Channels Found")],-1)),ne={class:"flex align-items-center justify-content-center mr-3"},se={key:0,class:"material-symbols-outlined text-queue text-lg"},oe={key:1,class:"material-symbols-outlined text-grey text-center text-lg"},ae={class:"white-space-nowrap overflow-hidden text-overflow-ellipsis"},le={class:"text-center"},ie={class:"text-center"},de={class:"text-center"},re={class:"text-center"},ce={key:1,class:"min-h-0 mt-3"},me={class:"flex justify-content-center align-items-center bg-white",style:{"min-height":"42vh"}},ue={key:0,class:"font-italic font-medium text-grey"},he=j({__name:"Channels",props:{modelValue:{type:Object,default:()=>[]}},setup(m){const C=m,v=b(),p=b(!1),h=b(""),k=D(),g=N(),{isStreamReady:i,setQueuesSelectedChannelName:S}=R(),P=u=>{S(u.data.name),q(()=>{const s=g.fullPath==="/queues/"?g.fullPath+"queue":g.fullPath+"/queue";B(s)})},f=u=>h.value.length>0?u.name.toLowerCase().includes(h.value.toLowerCase()):!0,y=()=>C.modelValue.filter(s=>p.value?s.isActive&&f(s):f(s)),A=()=>{k.open(Q,{props:{header:"Add a Queue Channel",style:{width:"30vw"},breakpoints:{"960px":"75vw","640px":"90vw"},modal:!0},data:{channelType:1}})};return(u,s)=>{const V=T,L=_("Checkbox"),z=_("Button"),l=_("Column"),H=_("DataTable");return r(),c("div",G,[t("div",{class:x(["col-12 md:12",d(i)?"":"div-disabled"])},M,2),t("div",W,[t("div",J,[t("div",X,[n(V,{modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=e=>h.value=e),disabled:!d(i),placeholder:"Search by channel name",styleProp:"min-width: 20rem",iconClass:"pi pi-search"},null,8,["modelValue","disabled"]),t("div",Y,[n(L,{inputId:"binary",modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=e=>p.value=e),binary:!0,class:"ml-2",disabled:!d(i)},null,8,["modelValue","disabled"]),t("label",{class:x(d(i)?"text-grey":"text-light-grey"),for:"binary"},"Only Active",2)])]),t("div",Z,[t("div",null,[n(z,{label:"Add Channel",class:"button-queue bg-white",icon:"pi pi-plus",onClick:A,disabled:!d(i),style:{"min-width":"12rem"}},null,8,["disabled"])])])])]),t("div",$,[d(i)&&y().length>0?(r(),c("div",ee,[n(H,{value:y(),paginator:y().length>25,rows:25,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[25,50,100],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Channels",responsiveLayout:"scroll",class:"p-datatable-sm",selection:v.value,"onUpdate:selection":s[2]||(s[2]=e=>v.value=e),selectionMode:"single",dataKey:"name",onRowSelect:P},{empty:o(()=>[te]),default:o(()=>[n(l,{header:"#",headerStyle:"width:1rem"},{body:o(({index:e})=>[F(a(e+1),1)]),_:1}),n(l,{field:"isActive",header:"Active",headerStyle:"width: 1rem"},{body:o(({data:e})=>[t("div",ne,[e.isActive?(r(),c("span",se,"radio_button_checked")):(r(),c("span",oe,"radio_button_unchecked"))])]),_:1}),n(l,{field:"channel",header:"Channel",headerStyle:"width: 20rem"},{body:o(({data:e})=>[t("div",ae,a(e.name),1)]),_:1}),n(l,{field:"lastActivity",header:"Last Activity",sortable:"",headerStyle:"width:8rem"},{body:o(({data:e})=>[t("div",null,a(e.lastActivityHuman),1)]),_:1}),n(l,{field:"incoming.messages",header:"Sent",sortable:"",headerStyle:"width:8rem"},{body:o(({data:e})=>[t("div",null,a(e.incoming.messagesHumanized)+"/"+a(e.incoming.volumeHumanized),1)]),_:1}),n(l,{field:"outgoing.messages",header:"Delivered",sortable:"",headerStyle:"width:10rem"},{body:o(({data:e})=>[t("div",null,a(e.outgoing.messagesHumanized)+"/"+a(e.outgoing.volumeHumanized),1)]),_:1}),n(l,{field:"total.waiting",header:"Waiting",sortable:"",headerStyle:"width:5rem"},{body:o(({data:e})=>[t("div",le,a(e.total.waitingHumanized),1)]),_:1}),n(l,{field:"incoming.expired",header:"Expired",sortable:"",headerStyle:"width:5rem"},{body:o(({data:e})=>[t("div",ie,a(e.incoming.expiredHumanized),1)]),_:1}),n(l,{field:"incoming.delayed",header:"Delayed",sortable:"",headerStyle:"width:5rem"},{body:o(({data:e})=>[t("div",de,a(e.incoming.delayedHumanized),1)]),_:1}),n(l,{field:"total.clients",header:"Clients",sortable:"",headerStyle:"width:5rem"},{body:o(({data:e})=>[t("div",re,a(e.total.clientsHumanized),1)]),_:1})]),_:1},8,["value","paginator","selection"])])):(r(),c("div",ce,[t("div",me,[d(i)?(r(),c("span",ue,"No Channels found, try adding a Channel")):I("",!0)])]))])])}}}),fe=E(he,[["__scopeId","data-v-be10bc1d"]]);export{fe as default};
