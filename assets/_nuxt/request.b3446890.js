import{I as l,S as r}from"./entry.61f443fa.js";function c(){const{ApiOrigin:n}=l();return{sendRequest:t=>new Promise((o,s)=>{r.post("/api/request",t.payload,{baseURL:n.value,signal:t.signal}).then(e=>{e.data.error&&s(e.data.error_string),o(e.data)}).catch(e=>{console.log(e.message),e.message==="canceled"?s("Request canceled"):s(e.message)})})}}class u{cancelFn(){return{}}completed(){this.cancelFn()}abort(){this.abortController.abort(),this.cancelFn()}setCancelFn(a){this.cancelFn=a}constructor(a,t){this.payload={type:a,data:t},this.abortController=new AbortController,this.signal=this.abortController.signal}}export{u as G,c as u};
