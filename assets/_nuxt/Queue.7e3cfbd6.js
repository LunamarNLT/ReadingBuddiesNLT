import q from"./StatStripCard.aa01b881.js";import{_ as Q}from"./ChannelActions.vue_vue_type_script_setup_true_lang.a18cb869.js";import{u as R}from"./request.b3446890.js";import{u as B}from"./useToastMessage.af91aa57.js";import{a as A,f as I,v as M,b as V,e as D,o as a,h as n,i as e,t as p,u as t,j as l,A as P,G as j,r as h,p as E,k as N,l as $}from"./entry.61f443fa.js";import{P as L}from"./queues_request.36fdf4e2.js";import T from"./SendMessage.822c367c.js";import"./StatStripCardBox.64d68255.js";import"./ChannelReceive.cece4d30.js";import"./InputNumber.05cf9b73.js";import"./ReceivedMessage.vue_vue_type_script_setup_true_lang.dda6ae42.js";import"./Field.vue_vue_type_script_setup_true_lang.5dd75765.js";import"./DataField.vue_vue_type_script_setup_true_lang.1c06eec1.js";import"./ChannelStream.a73ac3ba.js";import"./Monitor.0c4377e6.js";import"./InputText.2ab10032.js";import"./CodeEditor.341c139e.js";import"./index.esm.bd0dd375.js";const G=i=>(E("data-v-29cae61f"),i=i(),N(),i),U={class:"flex flex-column container"},z={class:"flex justify-content-between"},F={class:"flex flex-column header-row"},H=G(()=>e("span",{class:"material-symbols-outlined text-4xl mr-1"},"chevron_left",-1)),J={class:"text-3xl"},K={class:"ml-2"},O={key:0,class:"mb-2"},W={key:1,class:"flex"},X={key:0,class:"material-symbols-outlined text-queue mr-1 text-lg"},Y={key:1,class:"material-symbols-outlined text-grey mr-1 text-lg"},Z={class:"ml-1"},ee={class:"flex justify-content-end align-items-center"},se={class:"mr-2"},te={class:"ml-2"},oe={class:"stats-row"},ae={class:"flex-grow-1 actions-parent"},ne={class:"bg-white border-round-2xl border-1 border-queue flex"},le=A({__name:"Queue",setup(i){const v=I(),f=R(),r=M(!1),d=B(),{queuesSelectedChannelData:c,queuesSelectedChannelName:s,isStreamReady:u}=V(),g=D(),b=()=>{g.back()},x=()=>{r.value=!0,j(()=>{r.value=!0});const m=new L(s.value);f.sendRequest(m).then(o=>{d.showSuccess(`Queue Channel ${s.value} messages purged`,`${o.data.count} messages purged`)}).catch(o=>{d.showError("Error purging queue messages",o)}).finally(()=>{r.value=!1})},S=()=>{v.open(T,{props:{header:"Send Message Channel: "+s.value,style:{width:"60vw"},breakpoints:{"960px":"75vw","640px":"90vw"},modal:!0},data:{isChannelSource:!0,channel:s.value}})};return(m,o)=>{const k=h("Skeleton"),_=h("Button"),y=q,w=Q;return a(),n("div",U,[e("div",z,[e("div",F,[e("div",{class:"header-line cursor-pointer mb-2",onClick:b},[H,e("span",J,p(t(s)),1)]),e("div",K,[t(u)?(a(),n("div",W,[t(c).isActive?(a(),n("span",X,"radio_button_checked")):(a(),n("span",Y,"radio_button_unchecked")),e("span",Z,"Last Activity: "+p(t(c).lastSeen),1)])):(a(),n("div",O,[l(k,{height:"0.9rem",width:"13rem",borderRadius:"12px"})]))])]),e("div",ee,[e("div",se,[l(_,{label:"Send Message",class:"button-queue bg-white button-hero",icon:"pi pi-send",onClick:S,disabled:!t(u),style:{"min-width":"12rem"}},null,8,["disabled"])]),e("div",te,[l(_,{label:"Clear Queue",class:"button-queue bg-white",icon:"pi pi-trash",onClick:x,loading:r.value,disabled:!t(u),style:{"min-width":"12rem"}},null,8,["loading","disabled"])])])]),e("div",oe,[l(y,{items:t(c).stats.Items,"background-color":"bg-queue","border-color":"border-queue"},null,8,["items"])]),e("div",ae,[e("div",ne,[l(w,{modelValue:t(s),"onUpdate:modelValue":o[0]||(o[0]=C=>P(s)?s.value=C:null)},null,8,["modelValue"])])])])}}});const Ce=$(le,[["__scopeId","data-v-29cae61f"]]);export{Ce as default};
