import V from"./InputDropbox.b713c747.js";import w from"./InputText.a5d51f5e.js";import{u as E}from"./request.fce72d22.js";import{u as S}from"./useToastMessage.47adc00c.js";import{C as _}from"./send_response.a4e33ce2.js";import{a as k}from"./cqrs_request.ce51b25c.js";import{a as q,s as t,L as M,v as B,o as f,f as g,h as l,i,q as I,O as T,E as F,r as N,k as j}from"./entry.7307fc4c.js";import"./StatStripCard.vue_vue_type_style_index_0_scoped_b87ef05f_lang.ef632115.js";import"./stream.cbe555aa.js";import"./composables.0bc75d07.js";const L={class:"grid-nogutter grid col-12 mt-3"},O={class:"flex align-items-end grid p-fluid col-12 pb-0 mb-1 ml-1"},Q={class:"col-12 md:col-4 pt-0"},U={key:0,class:"col-12 md:col-8 pt-0"},A={class:"flex align-items-end grid justify-content-end p-fluid col-12 pb-0 mb-1 mt-4"},D={class:"mr-2"},W={class:"ml-2"},$=q({__name:"ReplyCommandMessage",setup(z){const u=T("dialogRef"),d=t();let o=M(new _);const s=t("executed"),n=t(""),y=t([{label:"Executed",value:"executed"},{label:"Error",value:"error"}]);B(()=>{d.value=u.value.data.message});const C=E(),c=S(),a=t(!1),x=()=>{a.value=!0,F(()=>{a.value=!0}),o=new _,o.requestId=d.value.requestId,o.replyChannel=d.value.replyChannel,s.value==="error"?o.error=n.value:o.executed=!0;const p=new k(o);C.sendRequest(p).then(e=>{c.showSuccess("Reply sent successfully")}).catch(e=>{e.isCanceled?c.showWarn("Request Canceled"):c.showError("Error sending reply for command message",e.message)}).finally(()=>{a.value=!1,m()})},m=()=>{u.value.close()},b=()=>s.value==="error"?n.value.length>0:!0;return(p,e)=>{const R=V,h=w,v=N("Button");return f(),g("div",L,[l("div",O,[l("div",Q,[i(R,{label:"Reply Command",modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=r=>s.value=r),options:y.value},null,8,["modelValue","options"])]),s.value==="error"?(f(),g("div",U,[i(h,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=r=>n.value=r),label:"Error Text",placeholder:"Error description"},null,8,["modelValue"])])):I("",!0)]),l("div",A,[l("div",D,[i(v,{label:"Cancel",class:"button-grey",icon:"pi pi-times",onClick:e[2]||(e[2]=r=>m()),style:{width:"10rem"}})]),l("div",W,[i(v,{label:"Reply",class:"button-grey",loading:a.value,icon:"pi pi-reply",style:{width:"10rem"},onClick:x,disabled:!b()},null,8,["loading","disabled"])])])])}}}),se=j($,[["__scopeId","data-v-8f6ce032"]]);export{se as default};
