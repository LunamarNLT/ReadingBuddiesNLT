import D from"./InputText.2ab10032.js";import{a as N,v as C,y as R,a0 as U,f as B,b as H,o as u,h as m,i as t,m as b,u as n,j as s,w as o,s as I,G as F,a1 as O,r as h,L as K,t as r}from"./entry.61f443fa.js";import $ from"./AddChannel.d6ea4339.js";const G={class:"grid-nogutter grid col-12 p-3"},q=t("div",{class:"flex justify-content-start align-items-center border-bottom-2 border-light-grey pb-2"},[t("span",{class:"material-icons-outlined text-grey text-4xl"},"subject"),t("span",{class:"text-grey font-bold text-2xl font-bold ml-2"},"Channels")],-1),J=[q],M={class:"col-12 md:12"},Q={class:"flex align-items-end mb-2 mt-2 justify-content-between border-bottom-1 border-light-grey pt-2 pb-3"},W={class:"flex"},X={class:"flex align-items-end mb-1 field-checkbox ml-2"},Y={class:"flex align-items-end mb-1 field-checkbox ml-2"},Z={class:"flex align-items-end mb-1 field-checkbox ml-2"},ee={class:"flex align-items-end"},te={class:"col-12 md:12"},le={key:0,class:"min-h-0 mt-3"},se=t("div",{class:"flex justify-content-center align-items-center bg-white",style:{"min-height":"42vh"}},[t("span",{class:"font-italic font-medium text-grey"},"No Channels Found")],-1),ne={class:"flex ml-2"},oe={key:0,class:"material-symbols-outlined text-pubsub text-lg"},ae={key:1,class:"material-symbols-outlined text-grey text-center text-lg"},ie=t("div",{class:"px-3 pt-0 pb-3 text-center font-bold"},"Customized Buttons",-1),de={class:"white-space-nowrap overflow-hidden text-overflow-ellipsis"},re={key:1,class:"min-h-0 mt-3"},ce={class:"flex justify-content-center align-items-center bg-white",style:{"min-height":"42vh"}},ue={key:0,class:"font-italic font-medium text-grey"},be=N({__name:"Channels",props:{modelValue:{type:Object,default:()=>[]}},setup(k){const S=k,x=C(),i=R("pubsub-channels-filters",{onlyActive:!1,showEvents:!0,showEventsStore:!0}),p=C(""),y=U(),V=B(),{isStreamReady:a,setPubSubSelectedChannel:P}=H(),A=c=>{P(c.data.name,c.data.type),F(()=>{const l=y.fullPath==="/pubsub/"?y.fullPath+"channel":y.fullPath+"/channel";O(l)})},w=c=>p.value.length>0?c.name.toLowerCase().includes(p.value.toLowerCase()):!0,v=()=>S.modelValue.filter(l=>i.value.onlyActive&&!l.isActive?!1:i.value.showEvents&&l.type==="events"||i.value.showEventsStore&&l.type==="events_store"?w(l):!1),T=()=>{V.open($,{props:{header:"Add a PubSub Channel",style:{width:"30vw"},breakpoints:{"960px":"75vw","640px":"90vw"},modal:!0},data:{channelType:2}})};return(c,l)=>{const E=D,g=h("Checkbox"),_=h("Button"),d=h("Column"),L=h("Tag"),j=h("InputText"),z=h("DataTable");return u(),m("div",G,[t("div",{class:b([n(a)?"":"div-disabled","col-12 md:12"])},J,2),t("div",M,[t("div",Q,[t("div",W,[s(E,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=e=>p.value=e),disabled:!n(a),placeholder:"Search by channel name",styleProp:"min-width: 20rem",iconClass:"pi pi-search"},null,8,["modelValue","disabled"]),t("div",X,[s(g,{inputId:"binary",modelValue:n(i).showEvents,"onUpdate:modelValue":l[1]||(l[1]=e=>n(i).showEvents=e),binary:!0,class:"ml-2",disabled:!n(a)},null,8,["modelValue","disabled"]),t("label",{class:b(n(a)?"text-grey":"text-light-grey"),for:"binary"},"Events",2)]),t("div",Y,[s(g,{inputId:"binary",modelValue:n(i).showEventsStore,"onUpdate:modelValue":l[2]||(l[2]=e=>n(i).showEventsStore=e),binary:!0,class:"ml-2",disabled:!n(a)},null,8,["modelValue","disabled"]),t("label",{class:b(n(a)?"text-grey":"text-light-grey"),for:"binary"},"Events-Store",2)]),t("div",Z,[s(g,{inputId:"binary",modelValue:n(i).onlyActive,"onUpdate:modelValue":l[3]||(l[3]=e=>n(i).onlyActive=e),binary:!0,class:"ml-2",disabled:!n(a)},null,8,["modelValue","disabled"]),t("label",{class:b(n(a)?"text-grey":"text-light-grey"),for:"binary"},"Only Active",2)])]),t("div",ee,[t("div",null,[s(_,{label:"Add Channel",class:"button-pubsub bg-white",icon:"pi pi-plus",onClick:T,disabled:!n(a),style:{"min-width":"12rem"}},null,8,["disabled"])])])])]),t("div",te,[n(a)&&v().length>0?(u(),m("div",le,[s(z,{value:v(),paginator:v().length>25,rows:25,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[25,50,100],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Channels",responsiveLayout:"scroll",class:"p-datatable-sm",selection:x.value,"onUpdate:selection":l[4]||(l[4]=e=>x.value=e),selectionMode:"single",dataKey:"channelKey",onRowSelect:A},{empty:o(()=>[se]),default:o(()=>[s(d,{header:"#",headerStyle:"width: 1rem"},{body:o(({index:e})=>[K(r(e+1),1)]),_:1}),s(d,{field:"isActive",header:"Active",headerStyle:"width: 1rem"},{body:o(({data:e})=>[t("div",ne,[e.isActive?(u(),m("span",oe,"radio_button_checked")):(u(),m("span",ae,"radio_button_unchecked"))])]),_:1}),s(d,{field:"type",header:"Type",headerStyle:"width: 8rem"},{body:o(({data:e})=>[t("div",null,[s(L,{class:"font-light pt-0 pb-0 pl-2 pr-2 bg-white border-1 text-pubsub border-pubsub",value:e.type==="events"?"Events":"Events-Store",rounded:!0},null,8,["value"])])]),filter:o(({filterModel:e})=>[s(j,{type:"text",modelValue:e.value,"onUpdate:modelValue":f=>e.value=f,class:"p-column-filter",placeholder:"Search by country"},null,8,["modelValue","onUpdate:modelValue"])]),filterclear:o(({filterCallback:e})=>[s(_,{type:"button",icon:"pi pi-times",onClick:f=>e(),class:"p-button-secondary"},null,8,["onClick"])]),filterapply:o(({filterCallback:e})=>[s(_,{type:"button",icon:"pi pi-check",onClick:f=>e(),class:"p-button-success"},null,8,["onClick"])]),filterfooter:o(()=>[ie]),_:1}),s(d,{field:"channel",header:"Channel",headerStyle:"width: 30rem"},{body:o(({data:e})=>[t("div",de,r(e.name),1)]),_:1}),s(d,{field:"lastActivity",header:"Last Activity",sortable:"",headerStyle:"width:10rem"},{body:o(({data:e})=>[t("div",null,r(e.lastActivityHuman),1)]),_:1}),s(d,{field:"incoming.messages",header:"Sent",sortable:"",headerStyle:"width:11rem"},{body:o(({data:e})=>[t("div",null,r(e.incoming.messagesHumanized)+"/"+r(e.incoming.volumeHumanized),1)]),_:1}),s(d,{field:"outgoing.messages",header:"Delivered",sortable:"",headerStyle:"width:11rem"},{body:o(({data:e})=>[t("div",null,r(e.outgoing.messagesHumanized)+"/"+r(e.outgoing.volumeHumanized),1)]),_:1}),s(d,{field:"total.clients",header:"Clients",sortable:"",headerStyle:"width:5rem"},{body:o(({data:e})=>[t("div",null,r(e.total.clientsHumanized),1)]),_:1})]),_:1},8,["value","paginator","selection"])])):(u(),m("div",re,[t("div",ce,[n(a)?(u(),m("span",ue,"No Channels found, try adding a Channel")):I("",!0)])]))])])}}});export{be as _};
