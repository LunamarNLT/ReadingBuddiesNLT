import k from"./ActionButtons.0fc41114.js";import{a as D,s as Q,$ as A,o as d,f as u,h as o,u as c,i as e,w as i,R as E,t as y,l as g,a0 as r,r as p,p as R,j as B,k as I}from"./entry.e4fef673.js";import{c as N,u as j}from"./stream.7512440b.js";import"./StatStripCard.vue_vue_type_style_index_0_scoped_b87ef05f_lang.90af4798.js";import"./SendMessage.b067d42e.js";import"./InputText.dcc834c4.js";import"./CodeEditor.1d468d1c.js";import"./InputNumber.1a89dc76.js";import"./request.96b78a51.js";import"./useToastMessage.d880f1b4.js";import"./index.esm.537293c8.js";import"./queues_request.c7d986ae.js";import"./SendMessage.c6ae3227.js";import"./SendMessage.c0ca728d.js";import"./Field.vue_vue_type_script_setup_true_lang.b171eb6f.js";import"./DataField.vue_vue_type_script_setup_true_lang.7f783943.js";import"./cqrs_request.7352f74c.js";import"./AddChannel.vue_vue_type_script_setup_true_lang.738522cc.js";const V=l=>(R("data-v-4c4d0416"),l=l(),B(),l),K=V(()=>o("div",{class:"col-12 md:12"},[o("div",{class:"flex justify-content-start align-items-center border-bottom-1 border-light-grey pb-2"},[o("span",{class:"material-icons-outlined text-grey text-4xl"},"insights"),o("span",{class:"text-grey font-bold text-2xl font-bold ml-2"},"Top Active Channels")])],-1)),L={class:"col-12 md:12"},M={key:0},z={class:"white-space-nowrap overflow-hidden text-overflow-ellipsis"},P={key:1,class:"flex align-items-center justify-content-center",style:{height:"45vh"}},U=D({__name:"TopChannelsCard",setup(l){const m=Q();A();const{setActiveTab:n}=N(),{isStreamReady:h,setPubSubSelectedChannel:b,setQueuesSelectedChannelName:x,setCQRSSelectedChannel:_,dashboardData:v}=j(),C=t=>{switch(t){case"Queue":return"text-queue border-queue";case"Events-Store":return"text-pubsub border-pubsub";case"Events":return"text-pubsub border-pubsub";case"Commands":return"text-cqrs border-cqrs";case"Queries":return"text-cqrs border-cqrs";default:return"bg-gray-500"}},S=t=>{switch(t.data.type){case"Queue":x(t.data.channel),n(1),r("/queues/queue");break;case"Events-Store":b(t.data.channel,"events_store"),n(2),r("/pubsub/channel");break;case"Events":b(t.data.channel,"events"),n(2),r("/pubsub/channel");break;case"Commands":_(t.data.channel,"commands"),n(3),r("/cqrs/channel");break;case"Queries":_(t.data.channel,"queries"),n(3),r("/cqrs/channel");break}};return(t,f)=>{const a=p("Column"),w=p("Tag"),q=p("DataTable"),T=k;return d(),u("div",{class:g(["grid-nogutter grid col-12 p-3",c(h)?"":"div-disabled"])},[K,o("div",L,[c(h)&&c(v).topChannels.length>0?(d(),u("div",M,[e(q,{value:c(v).topChannels,responsiveLayout:"scroll",class:"p-datatable-sm",selection:m.value,"onUpdate:selection":f[0]||(f[0]=s=>m.value=s),selectionMode:"single",dataKey:"channelKey",onRowSelect:S},{default:i(()=>[e(a,{header:"#"},{body:i(({index:s})=>[E(y(s+1),1)]),_:1}),e(a,{field:"type",header:"Type",headerStyle:"width:12rem"},{body:i(({data:s})=>[o("div",null,[e(w,{class:g(["font-light pt-0 pb-0 pl-2 pr-2 bg-white border-1",C(s.type)]),value:s.type,rounded:!0},null,8,["class","value"])])]),_:1}),e(a,{field:"channel",header:"Channel",headerStyle:"width:25rem"},{body:i(({data:s})=>[o("div",z,y(s.channel),1)]),_:1}),e(a,{field:"lastActivity",header:"Last Activity"}),e(a,{field:"sent",header:"Sent (msg/vol)"}),e(a,{field:"delivered",header:"Delivered (msg/vol)"}),e(a,{field:"clients",header:"Clients"})]),_:1},8,["value","selection"])])):(d(),u("div",P,[e(T)]))])],2)}}}),ce=I(U,[["__scopeId","data-v-4c4d0416"]]);export{ce as default};
