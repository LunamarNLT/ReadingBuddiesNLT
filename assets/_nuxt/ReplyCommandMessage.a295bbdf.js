import S from"./InputDropbox.7d513d98.js";import V from"./InputText.2ab10032.js";import{u as w}from"./request.b3446890.js";import{u as E}from"./useToastMessage.af91aa57.js";import{C as _}from"./send_response.6fe64c15.js";import{a as M}from"./cqrs_request.3130640f.js";import{a as k,v as t,z as q,x as B,o as f,h as g,i as l,j as d,s as I,D as T,G as j,r as F,l as N}from"./entry.61f443fa.js";const D={class:"grid-nogutter grid col-12 mt-3"},Q={class:"flex align-items-end grid p-fluid col-12 pb-0 mb-1 ml-1"},U={class:"col-12 md:col-4 pt-0"},z={key:0,class:"col-12 md:col-8 pt-0"},A={class:"flex align-items-end grid justify-content-end p-fluid col-12 pb-0 mb-1 mt-4"},G={class:"mr-2"},L={class:"ml-2"},O=k({__name:"ReplyCommandMessage",setup($){const i=T("dialogRef"),c=t();let o=q(new _);const s=t("executed"),n=t(""),y=t([{label:"Executed",value:"executed"},{label:"Error",value:"error"}]);B(()=>{c.value=i.value.data.message});const x=w(),u=E(),a=t(!1),b=()=>{a.value=!0,j(()=>{a.value=!0}),o=new _,o.requestId=c.value.requestId,o.replyChannel=c.value.replyChannel,s.value==="error"?o.error=n.value:o.executed=!0;const p=new M(o);x.sendRequest(p).then(e=>{u.showSuccess("Reply Sent Successfully")}).catch(e=>{u.showError("Error sending reply for command message",e)}).finally(()=>{a.value=!1,m()})},m=()=>{i.value.close()},C=()=>s.value==="error"?n.value.length>0:!0;return(p,e)=>{const R=S,h=V,v=F("Button");return f(),g("div",D,[l("div",Q,[l("div",U,[d(R,{label:"Reply Command",modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=r=>s.value=r),options:y.value},null,8,["modelValue","options"])]),s.value==="error"?(f(),g("div",z,[d(h,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=r=>n.value=r),label:"Error Text",placeholder:"Error description"},null,8,["modelValue"])])):I("",!0)]),l("div",A,[l("div",G,[d(v,{label:"Cancel",class:"button-grey",icon:"pi pi-times",onClick:e[2]||(e[2]=r=>m()),style:{width:"10rem"}})]),l("div",L,[d(v,{label:"Reply",class:"button-grey",loading:a.value,icon:"pi pi-reply",style:{width:"10rem"},onClick:b,disabled:!C()},null,8,["loading","disabled"])])])])}}}),Z=N(O,[["__scopeId","data-v-c43864d6"]]);export{Z as default};
