import L from"./InputText.09b20890.js";import j from"./ActionButtons.87a2852f.js";import{a as z,v,f as D,a1 as N,b as T,o as d,h as r,i as t,m as w,u as m,j as s,w as n,F,s as b,H as R,a2 as q,r as p,M as B,t as o}from"./entry.c95b333b.js";const O={class:"grid-nogutter grid col-12 p-3"},U=t("div",{class:"flex justify-content-start align-items-center border-bottom-2 border-light-grey pb-2"},[t("span",{class:"material-icons-outlined text-grey text-4xl"},"subject"),t("span",{class:"text-grey font-bold text-2xl font-bold ml-2"},"Channels")],-1),E=[U],I={class:"col-12 md:12"},M={class:"flex align-items-end mb-2 mt-2 justify-content-between border-bottom-1 border-light-grey pt-2 pb-3"},Q={class:"flex"},K={class:"flex align-items-end mb-1 field-checkbox ml-2"},W={class:"col-12 md:12"},$={key:0,class:"min-h-0 mt-3"},G=t("div",{class:"flex justify-content-center align-items-center bg-white",style:{"min-height":"42vh"}},[t("span",{class:"font-italic font-medium text-grey"},"No Channels Found")],-1),J={class:"flex align-items-center justify-content-center mr-3"},X={key:0,class:"material-symbols-outlined text-queue text-lg"},Y={key:1,class:"material-symbols-outlined text-grey text-center text-lg"},Z={class:"white-space-nowrap overflow-hidden text-overflow-ellipsis"},ee={class:"text-center"},te={class:"text-center"},se={class:"text-center"},ne={class:"text-center"},oe={key:0,class:"min-h-0 mt-3"},ae={class:"flex justify-content-center align-items-center bg-white",style:{"min-height":"42vh"}},le={key:0,class:"font-italic font-medium text-grey"},ie={key:0,class:"col-12 md:12"},de={class:"flex justify-content-center align-items-center bg-white",style:{"min-height":"42vh"}},ue=z({__name:"Channels",props:{modelValue:{type:Object,default:()=>[]}},setup(h){const C=h,f=v(),_=v(!1),u=v("");D();const g=N(),{isStreamReady:c,setQueuesSelectedChannelName:k}=T(),S=l=>{k(l.data.name),R(()=>{const i=g.fullPath==="/queues/"?g.fullPath+"queue":g.fullPath+"/queue";q(i)})},x=l=>u.value.length>0?l.name.toLowerCase().includes(u.value.toLowerCase()):!0,y=()=>C.modelValue.filter(l=>_.value?l.isActive&&x(l):x(l));return(l,i)=>{const P=L,V=p("Checkbox"),a=p("Column"),A=p("DataTable"),H=j;return d(),r("div",O,[t("div",{class:w(["col-12 md:12",m(c)?"":"div-disabled"])},E,2),t("div",I,[t("div",M,[t("div",Q,[s(P,{modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=e=>u.value=e),disabled:!m(c),placeholder:"Search by channel name",styleProp:"min-width: 20rem",iconClass:"pi pi-search"},null,8,["modelValue","disabled"]),t("div",K,[s(V,{inputId:"binary",modelValue:_.value,"onUpdate:modelValue":i[1]||(i[1]=e=>_.value=e),binary:!0,class:"ml-2",disabled:!m(c)},null,8,["modelValue","disabled"]),t("label",{class:w(m(c)?"text-grey":"text-light-grey"),for:"binary"},"Only Active",2)])])])]),t("div",W,[m(c)&&y().length>0?(d(),r("div",$,[s(A,{value:y(),paginator:y().length>25,rows:25,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[25,50,100],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Channels",responsiveLayout:"scroll",class:"p-datatable-sm",selection:f.value,"onUpdate:selection":i[2]||(i[2]=e=>f.value=e),selectionMode:"single",dataKey:"name",onRowSelect:S},{empty:n(()=>[G]),default:n(()=>[s(a,{header:"#",headerStyle:"width:1rem"},{body:n(({index:e})=>[B(o(e+1),1)]),_:1}),s(a,{field:"isActive",header:"Active",headerStyle:"width: 1rem"},{body:n(({data:e})=>[t("div",J,[e.isActive?(d(),r("span",X,"radio_button_checked")):(d(),r("span",Y,"radio_button_unchecked"))])]),_:1}),s(a,{field:"channel",header:"Channel",headerStyle:"width: 20rem"},{body:n(({data:e})=>[t("div",Z,o(e.name),1)]),_:1}),s(a,{field:"lastActivity",header:"Last Activity",sortable:"",headerStyle:"width:8rem"},{body:n(({data:e})=>[t("div",null,o(e.lastActivityHuman),1)]),_:1}),s(a,{field:"incoming.messages",header:"Sent",sortable:"",headerStyle:"width:8rem"},{body:n(({data:e})=>[t("div",null,o(e.incoming.messagesHumanized)+"/"+o(e.incoming.volumeHumanized),1)]),_:1}),s(a,{field:"outgoing.messages",header:"Delivered",sortable:"",headerStyle:"width:10rem"},{body:n(({data:e})=>[t("div",null,o(e.outgoing.messagesHumanized)+"/"+o(e.outgoing.volumeHumanized),1)]),_:1}),s(a,{field:"total.waiting",header:"Waiting",sortable:"",headerStyle:"width:5rem"},{body:n(({data:e})=>[t("div",ee,o(e.total.waitingHumanized),1)]),_:1}),s(a,{field:"incoming.expired",header:"Expired",sortable:"",headerStyle:"width:5rem"},{body:n(({data:e})=>[t("div",te,o(e.incoming.expiredHumanized),1)]),_:1}),s(a,{field:"incoming.delayed",header:"Delayed",sortable:"",headerStyle:"width:5rem"},{body:n(({data:e})=>[t("div",se,o(e.incoming.delayedHumanized),1)]),_:1}),s(a,{field:"total.clients",header:"Clients",sortable:"",headerStyle:"width:5rem"},{body:n(({data:e})=>[t("div",ne,o(e.total.clientsHumanized),1)]),_:1})]),_:1},8,["value","paginator","selection"])])):(d(),r(F,{key:1},[h.modelValue.length>0?(d(),r("div",oe,[t("div",ae,[m(c)?(d(),r("span",le,"No Channels found")):b("",!0)])])):b("",!0)],64))]),h.modelValue.length===0?(d(),r("div",ie,[t("div",de,[s(H)])])):b("",!0)])}}});export{ue as _};
